<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Installation | Silverback</title>
    <meta name="description" content="Silverback documentation.">
    
    
    <link rel="preload" href="/silverback/assets/css/0.styles.d101e039.css" as="style"><link rel="preload" href="/silverback/assets/js/app.a3f5265b.js" as="script"><link rel="preload" href="/silverback/assets/js/7.ed16203e.js" as="script"><link rel="prefetch" href="/silverback/assets/js/10.dc495188.js"><link rel="prefetch" href="/silverback/assets/js/11.de1ed848.js"><link rel="prefetch" href="/silverback/assets/js/12.50ede84b.js"><link rel="prefetch" href="/silverback/assets/js/13.646056cd.js"><link rel="prefetch" href="/silverback/assets/js/2.dad8f0e3.js"><link rel="prefetch" href="/silverback/assets/js/3.c66c7bdc.js"><link rel="prefetch" href="/silverback/assets/js/4.40f3aad4.js"><link rel="prefetch" href="/silverback/assets/js/5.aa44b1ee.js"><link rel="prefetch" href="/silverback/assets/js/6.199e0b6a.js"><link rel="prefetch" href="/silverback/assets/js/8.ec18f804.js"><link rel="prefetch" href="/silverback/assets/js/9.2321404d.js">
    <link rel="stylesheet" href="/silverback/assets/css/0.styles.d101e039.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/silverback/" class="home-link router-link-active"><!----> <span class="site-name">Silverback</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/silverback/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Development</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/silverback/development/setup.html" class="nav-link router-link-exact-active router-link-active">Setup</a></li><li class="dropdown-item"><!----> <a href="/silverback/development/workflow.html" class="nav-link">Workflow</a></li><li class="dropdown-item"><!----> <a href="/silverback/development/testing.html" class="nav-link">Testing</a></li><li class="dropdown-item"><!----> <a href="/silverback/development/lagoon.html" class="nav-link">Lagoon</a></li><li class="dropdown-item"><!----> <a href="/silverback/development/storybook.html" class="nav-link">Storybook</a></li><li class="dropdown-item"><!----> <a href="/silverback/development/webpack.html" class="nav-link">Webpack</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Features</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/silverback/features/translations/" class="nav-link">Translations</a></li><li class="dropdown-item"><!----> <a href="/silverback/features/sections/" class="nav-link">WYSIWYG Editor</a></li></ul></div></div> <a href="https://github.com/AmazeeLabs/silverback" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/silverback/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Development</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/silverback/development/setup.html" class="nav-link router-link-exact-active router-link-active">Setup</a></li><li class="dropdown-item"><!----> <a href="/silverback/development/workflow.html" class="nav-link">Workflow</a></li><li class="dropdown-item"><!----> <a href="/silverback/development/testing.html" class="nav-link">Testing</a></li><li class="dropdown-item"><!----> <a href="/silverback/development/lagoon.html" class="nav-link">Lagoon</a></li><li class="dropdown-item"><!----> <a href="/silverback/development/storybook.html" class="nav-link">Storybook</a></li><li class="dropdown-item"><!----> <a href="/silverback/development/webpack.html" class="nav-link">Webpack</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Features</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/silverback/features/translations/" class="nav-link">Translations</a></li><li class="dropdown-item"><!----> <a href="/silverback/features/sections/" class="nav-link">WYSIWYG Editor</a></li></ul></div></div> <a href="https://github.com/AmazeeLabs/silverback" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>Installation</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/silverback/development/setup.html#prerequisites" class="sidebar-link">Prerequisites</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/silverback/development/setup.html#project-initialisation" class="sidebar-link">Project initialisation</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/silverback/development/setup.html#updating" class="sidebar-link">Updating</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/silverback/development/setup.html#running-the-website-locally" class="sidebar-link">Running the website locally</a><ul class="sidebar-sub-headers"></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="installation"><a href="#installation" aria-hidden="true" class="header-anchor">#</a> Installation</h1> <h2 id="prerequisites"><a href="#prerequisites" aria-hidden="true" class="header-anchor">#</a> Prerequisites</h2> <p>To create or work on a Silverback project the following tools have to be available on your system:</p> <ul><li>A <a href="http://php.net/manual/en/install.php" target="_blank" rel="noopener noreferrer">PHP 7<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> interpreter meeting <a href="https://www.drupal.org/docs/8/system-requirements/php-requirements" target="_blank" rel="noopener noreferrer">Drupal requirements<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>Installed and configured <a href="https://direnv.net/" target="_blank" rel="noopener noreferrer">direnv<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> (don't forget about the <a href="https://direnv.net/index.html#setup" target="_blank" rel="noopener noreferrer">setup<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for your shell)</li> <li>Globally installed <a href="https://getcomposer.org/" target="_blank" rel="noopener noreferrer">composer<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><em>Optional:</em> A bitcoin miner to give the other three processor cores a purpose, since they are not consumed by docker any more.</li></ul> <h2 id="project-initialisation"><a href="#project-initialisation" aria-hidden="true" class="header-anchor">#</a> Project initialisation</h2> <p>Given you already created a composer based Drupal project like this:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>composer create-project drupal-composer/drupal-project:8.x-dev my-project --no-interaction
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>You just have to require the <code>amazeelabs/silverback</code> composer package and initialise it:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">cd</span> my-project
composer require amazeelabs/silverback
./vendor/bin/silverback init
composer <span class="token function">install</span>
yarn
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Note that the seemingly unnecessary extra <code>composer install</code> is to allow patches to be applied.</p> <p>If you've set up <code>direnv</code> correctly, it will complain at this point that there is an unknown <code>.envrc</code> file. Just execute <code>direnv allow</code> to enable it. From now own environment variables and executable search paths will be set automatically whenever you enter this directory. Here is how it should look in case of a correct installation:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>me@local:~/Projects $ cd my-project/
direnv: error .envrc is blocked. Run `direnv allow` to approve its content.
me@local:~/Projects/my-project $ direnv allow
direnv: loading .envrc
direnv: export +CYPRESS_BASE_URL ... +SB_TEST_CONTENT ~PATH
me@local:~/Projects/my-project $ cd ..
direnv: unloading
me@local:~/Projects $ cd my-project/
direnv: loading .envrc
direnv: export +CYPRESS_BASE_URL ... +SB_TEST_CONTENT ~PATH
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>Requiring and initating the package did a couple of things:</p> <ul><li>A list of common project dependencies have been installed.</li> <li>Configuration files for Travis, Lando and amazee.io have been created.</li> <li>Your composer.json has been slightly modified.</li> <li>An environment-based <code>settings.php</code> has been placed in <code>web/sites/default</code>.</li> <li>A <code>tests</code> directory with a fully operational [Cypress] setup appeared.</li> <li>A <code>.env</code> file was initialised that you can use to configure your local environment.</li></ul> <h2 id="updating"><a href="#updating" aria-hidden="true" class="header-anchor">#</a> Updating</h2> <p>To update Silverback along with its dependencies simply update the composer package:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>composer upgrade amazeelabs/silverback --with-dependencies
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>This will also trigger an update hook that re-runs <code>silverback init</code>. If you removed the update hook, you'll have to do that yourself. This will overwrite all the scaffolded files to get in any updates. You can just use git to select which updates you want and which not.</p> <h2 id="running-the-website-locally"><a href="#running-the-website-locally" aria-hidden="true" class="header-anchor">#</a> Running the website locally</h2> <p>To run the project locally, just execute the setup procedure and start a local development server:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>silverback setup
drush serve
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Now your Drupal installation should be accessible at http://localhost:8888. Admin account credentials can be configured in your <code>.env</code> file.</p> <p>Another invocation of <code>silverback setup</code> will scratch the current install and and create a new one. <code>silverback teardown</code> will just do the <em>scratch</em> part. Running <code>silverback setup --backup</code> will create a backup before removing the current install, and <code>silverback teardown --restore</code> will bring the latest backup back. These two commands are mainly used by the end to end testing processes to spin up test sites (<em>TODO: Move test sites to simpletest subsites</em>).</p> <p><strong>Danger:</strong> Currently, there can be only <em><strong>one</strong></em> backup.</p></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/AmazeeLabs/silverback/edit/master/docs/development/setup.md" target="_blank" rel="noopener noreferrer">I found a typo and I don't want to keep it!</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></div> <!----> </div> <!----></div></div>
    <script src="/silverback/assets/js/app.a3f5265b.js" defer></script><script src="/silverback/assets/js/7.ed16203e.js" defer></script>
  </body>
</html>
